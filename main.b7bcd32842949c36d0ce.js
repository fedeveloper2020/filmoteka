(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,t,n){"use strict";n.r(t);n("yjly"),n("hi3g"),n("RtS0"),n("JBxO"),n("FdtR"),n("3dw1"),n("IlJM");var i={searchForm:document.querySelector("#search-form"),input:document.querySelector(".input-js"),movieList:document.querySelector(".js-movieList"),prevBtn:document.querySelector('[data-action="prev"]'),nextBtn:document.querySelector('[data-action="next"]'),pageValue:document.querySelector(".homePage__value"),errorRef:document.querySelector(".error-message"),title:document.querySelector(".title"),buttonContainer:document.querySelector(".homePage__button"),homePage:document.querySelector(".homepage-section"),logotype:document.querySelector(".logotype"),libraryPage:document.querySelector(".library-section"),detailsSectionBlock:document.querySelector(".details"),addQueueBtn:document.querySelector(".js-details__queue"),addWatchedBtn:document.querySelector(".js-details__watched"),iconQueue:document.querySelector(".js-icon-queue"),iconWatched:document.querySelector(".js-icon-watched"),footerContainer:document.querySelector(".footer"),btnToWatchList:document.querySelector("#js-buttonWatched"),btnToQueueList:document.querySelector("#js-buttonQueue"),libraryBtnContainer:document.querySelector(".library-button-container"),linkLibrary:document.querySelector("#js-link-library"),linkHomePage:document.querySelector("#js-link-homepage"),linkLogotype:document.querySelector("#js-logotype"),libraryList:document.querySelector(".libraryPage-list"),backToTopBtn:document.querySelector(".btn-up")},a=document.querySelector(".libraryPage-list");function s(){a.innerHTML="";var e=JSON.parse(localStorage.getItem("filmsWatched")),t=document.createDocumentFragment();if(null===e||0===e.length){var n=document.createElement("li");n.classList.add("libraryPage__filmItem"),n.textContent="You do not have WATCHED movies. Add them.",a.append(n)}null!==e&&0!==e.length&&(e.forEach((function(e){return t.append(o(e.title,e.backdrop_path,e.id,e.vote_average))})),a.append(t)),i.btnToQueueList.classList.remove("libraryPage__btn--active"),i.btnToWatchList.classList.add("libraryPage__btn--active")}function r(){a.innerHTML="";var e=JSON.parse(localStorage.getItem("filmsQueue")),t=document.createDocumentFragment();if(null===e||0===e.length){var n=document.createElement("li");n.classList.add("libraryPage__filmItem"),n.textContent="You do not have to QUEUE movies to watch. Add them.",a.append(n)}null!==e&&0!==e.length&&(e.forEach((function(e){return t.append(o(e.title,e.backdrop_path,e.id,e.vote_average,e.release_date))})),a.append(t)),i.btnToWatchList.classList.remove("libraryPage__btn--active"),i.btnToQueueList.classList.add("libraryPage__btn--active")}function o(e,t,n,i){var a=document.createElement("li");a.classList.add("libraryPage__filmItem");var s=document.createElement("img");s.classList.add("libraryPage__img"),null===t?s.setAttribute("src","../images/noposter.jpg"):s.setAttribute("src","https://image.tmdb.org/t/p/w500"+t);var r=document.createElement("p");r.classList.add("libraryPage__movieName"),r.textContent=e;var o=document.createElement("p");return o.classList.add("libraryPage__vote"),o.textContent=i,a.append(s,r,o),a.addEventListener("click",(function(){return p(n,!0)})),a}n("lYjL"),n("x3Br"),n("D/wG"),n("Muwe"),n("aZFp"),n("PzF0");function l(){var e=localStorage.getItem("filmsQueue");null===e?document.querySelector(".js-details__queue").textContent="Add to queue":JSON.parse(e).find((function(e){return e.id===u.id}))?document.querySelector(".js-details__queue").textContent="Delete from queue":document.querySelector(".js-details__queue").textContent="Add to queue";var t=localStorage.getItem("filmsWatched");null===t?document.querySelector(".js-details__watched").textContent="Add to watched":JSON.parse(t).find((function(e){return e.id===u.id}))?document.querySelector(".js-details__watched").textContent="Delete from watched":document.querySelector(".js-details__watched").textContent="Add to watched"}function c(){var e,t=[],n=localStorage.getItem("filmsWatched");null!==n&&(e=t).push.apply(e,JSON.parse(n));t.find((function(e){return e.id===u.id}))?t=t.filter((function(e){return e.id!==u.id})):t.push(u),localStorage.setItem("filmsWatched",JSON.stringify(t)),l()}function d(){var e,t=[],n=localStorage.getItem("filmsQueue");null!==n&&(e=t).push.apply(e,JSON.parse(n));t.find((function(e){return e.id===u.id}))?t=t.filter((function(e){return e.id!==u.id})):t.push(u),localStorage.setItem("filmsQueue",JSON.stringify(t)),l()}var u=[];function m(){i.homePage.classList.remove("hidden"),i.movieList.classList.remove("hidden"),i.backToTopBtn.classList.remove("hidden"),i.detailsSectionBlock.classList.add("visually-hidden"),i.libraryPage.classList.add("hidden"),i.linkHomePage.classList.add("und"),i.linkLibrary.classList.remove("und1"),i.btnToQueueList.removeEventListener("click",r),i.btnToWatchList.removeEventListener("click",s)}function p(e,t){if(i.homePage.classList.add("hidden"),i.movieList.classList.add("hidden"),i.backToTopBtn.classList.add("hidden"),i.detailsSectionBlock.classList.remove("visually-hidden"),t){var n=[].concat(JSON.parse(localStorage.getItem("filmsQueue")),JSON.parse(localStorage.getItem("filmsWatched")));u=n.find((function(t){return t.id===e}))}else u=g.find((function(t){return t.id===e}));!function(e){i.detailsSectionBlock.innerHTML="";var t="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQP8n_VcmefHmHxO3n9bXSMODS_8pGjmKKGbA&usqp=CAU";null!==e.poster_path&&(t="https://image.tmdb.org/t/p/w500/"+e.poster_path),i.detailsSectionBlock.classList.remove("visually-hidden"),i.libraryPage.classList.add("hidden"),i.detailsSectionBlock.insertAdjacentHTML("beforeend",'\n     <div class="container">\n         <div class="details__img-wrapper">\n             <img class="details__img" src="'+t+'" alt="'+e.title+'">\n         </div>\n         <div class="details__description">\n             <h2 class="details__titile">'+e.title+'\n             <span class="film-card__release">('+e.release_date.split("-")[0]+')</span></h2>\n             <ul class="details-list">\n                 <li class="details-list__item">\n                     <p class="details-list__name">vote / votes</p>\n                     <p class="details-list__desc details__rating">\n                         <span class="details-list__rating">'+e.vote_average+'</span>\n                         <span class="details-list__rating--dash"> / </span>\n                         <span class="details-list__rating">'+e.vote_count+'</span>\n                     </p>\n                 </li>\n                 <li class="details-list__item">\n                     <p class="details-list__name">popularity</p>\n                     <p class="details-list__desc">'+e.popularity+'</p>\n                 </li>\n                 <li class="details-list__item">\n                     <p class="details-list__name">original title</p>\n                     <p class="details-list__desc">'+e.title+'</p>\n\n                 </li>\n                 <li class="details-list__item">\n                     <p class="details-list__name">genre</p>\n                     <p class="details-list__desc">\n                         <span class="card-item__genre">'+h.filter((function(t){return e.genre_ids.find((function(e){return t.id===e}))})).reduce((function(e,t){return e+(t.name+" ")}),"")+'</span>\n                     </p>\n                 </li>\n             </ul>\n             <h3 class="details-list__about">About</h3>\n             <p class="details__text">'+e.overview+'</p>\n              <div class="button-container">\n\n            \n\n\n             <button class="details__watched js-details__watched">Add to watched</button>\n             <button class="details__queue js-details__queue">Add to queue</button>\n             <button class="back-button" id="back-button">Back Home</button>\n              </div>\n         </div>\n     </div>'),l()}(u),document.querySelector("#back-button").addEventListener("click",(function(){m()})),document.querySelector(".js-details__queue").addEventListener("click",d),document.querySelector(".js-details__watched").addEventListener("click",c),i.btnToQueueList.removeEventListener("click",r),i.btnToWatchList.removeEventListener("click",s)}i.libraryPage.classList.add("hidden"),i.detailsSectionBlock.classList.add("visually-hidden"),i.linkHomePage.addEventListener("click",m),i.linkLibrary.addEventListener("click",(function(){i.homePage.classList.add("hidden"),i.detailsSectionBlock.classList.add("visually-hidden"),i.libraryPage.classList.remove("hidden"),i.backToTopBtn.classList.remove("hidden"),i.linkLibrary.classList.add("und1"),i.linkHomePage.classList.remove("und"),r(),i.btnToQueueList.classList.add("undreline"),i.btnToQueueList.addEventListener("click",r),i.btnToWatchList.addEventListener("click",s)})),i.linkLogotype.addEventListener("click",m);var h,_="https://api.themoviedb.org/3",v="c5a07ae819d95fe3119594f7b17c2bc2",g=[],f=1,L="";function b(e,t,n){var i=document.createElement("li");i.classList.add("homePage__movieItem"),i.setAttribute("id","js-filmListItem");var a=document.createElement("img");a.classList.add("homePage__movieItem-poster"),a.setAttribute("src","https://image.tmdb.org/t/p/w500/"+e);var s=document.createElement("h2");return s.classList.add("homePage__movieItem-name"),s.textContent=t,i.append(a,s),i.addEventListener("click",(function(){return p(n,!1)})),i}var y=function(){fetch(_+"/movie/popular?api_key="+v+"&language=en-US&page="+f).then((function(e){return e.json()})).then((function(e){return e.results.length>1&&q(),e.results.forEach((function(e){i.movieList.insertAdjacentElement("beforeend",b(e.backdrop_path,e.title,e.id))})),g=e.results})).catch((function(e){return console.error(e)}))};function S(){fetch(_+"/search/movie?api_key="+v+"&language=en-US&page="+f+"&include_adult=false&query="+L).then((function(e){return e.json()})).then((function(e){return 1===f||f<1?i.prevBtn.classList.add("hidden"):i.prevBtn.classList.remove("hidden"),f===e.total_pages?i.nextBtn.classList.add("hidden"):i.nextBtn.classList.remove("hidden"),0===e.results.length&&(i.buttonContainer.classList.add("hidden"),i.errorRef.textContent="Sorry, but there are no exact matches :(",q()),e.results.length>1&&(i.buttonContainer.classList.remove("hidden"),q(),i.errorRef.textContent=""),e.results.forEach((function(e){i.movieList.insertAdjacentElement("beforeend",b(e.backdrop_path,e.title,e.id))})),g=e.results,i.title.classList.add("hidden"),g})).catch((function(e){return console.error(e)}))}function k(e){e.target===i.prevBtn?(f-=1,E(),i.pageValue.textContent=f,""===L?y():S()):(f+=1,E(),i.pageValue.textContent=f,""===L?y():S()),1===f||f<1?i.prevBtn.classList.add("hidden"):i.prevBtn.classList.remove("hidden")}function q(){i.movieList.innerHTML=""}function E(){window.scrollTo({top:0,behavior:"smooth"})}y(),fetch(_+"/genre/movie/list?api_key="+v+"&language=en-US").then((function(e){return e.json()})).then((function(e){h=[].concat(e.genres)})).catch((function(e){return console.error(e)})),i.backToTopBtn.addEventListener("click",E),i.prevBtn.addEventListener("click",k),i.nextBtn.addEventListener("click",k),i.searchForm.addEventListener("submit",(function(e){e.preventDefault(),f=1,i.pageValue.textContent=f,L=i.input.value,i.searchForm.reset(),S()})),i.linkLogotype.addEventListener("click",(function(){f=1,i.pageValue.textContent=f,y(),i.prevBtn.classList.add("hidden"),i.nextBtn.classList.remove("hidden"),i.title.classList.remove("hidden"),i.errorRef.classList.add("hidden"),i.buttonContainer.classList.remove("hidden")}))},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.b7bcd32842949c36d0ce.js.map