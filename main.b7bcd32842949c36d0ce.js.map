{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/libraryPage.js","webpack:///./js/filmDetailsPage.js","webpack:///./js/navigation.js","webpack:///./js/initialHomePage.js"],"names":["searchForm","document","querySelector","input","movieList","prevBtn","nextBtn","pageValue","errorRef","title","buttonContainer","homePage","logotype","libraryPage","detailsSectionBlock","addQueueBtn","addWatchedBtn","iconQueue","iconWatched","footerContainer","btnToWatchList","btnToQueueList","libraryBtnContainer","linkLibrary","linkHomePage","linkLogotype","libraryList","backToTopBtn","drawWatchedFilmList","innerHTML","localStorageArray","JSON","parse","localStorage","getItem","fragment","createDocumentFragment","length","listItemMessage","createElement","classList","add","textContent","append","forEach","film","createLibraryCardFunc","backdrop_path","id","vote_average","refs","remove","drawQueueFilmList","release_date","name","imgPath","movieId","voteAverage","listItem","img","setAttribute","movieName","voteFilm","addEventListener","activeDetailsPage","monitorButtonStatusText","localStorageFilmsQueue","find","selectFilm","localStorageFilmsWatched","toggleToWatched","filmsToWatch","localStorageData","push","filter","setItem","stringify","toggleToQueue","filmsInQueue","activeHomePage","removeEventListener","itsLibraryFilm","allLocalStorageFilms","renderFilms","poster","poster_path","insertAdjacentHTML","split","vote_count","popularity","genres","genre","genre_ids","item","reduce","acc","overview","showDetails","baseURL","apiKey","pageNumber","inputValue","createCardFunc","filmTitle","fetchPopularMoviesList","fetch","then","data","json","films","results","clearContainer","insertAdjacentElement","catch","err","console","error","fetchFilms","total_pages","plaginationNavigation","event","target","scrollToTop","window","scrollTo","top","behavior","preventDefault","value","reset"],"mappings":"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","file":"main.b7bcd32842949c36d0ce.js","sourcesContent":["export default {\r\n    searchForm: document.querySelector('#search-form'),\r\n    input: document.querySelector('.input-js'),\r\n    movieList: document.querySelector('.js-movieList'),\r\n    prevBtn: document.querySelector('[data-action=\"prev\"]'),\r\n    nextBtn: document.querySelector('[data-action=\"next\"]'),\r\n    pageValue: document.querySelector('.homePage__value'),\r\n    errorRef: document.querySelector('.error-message'),\r\n    title: document.querySelector('.title'),\r\n    buttonContainer: document.querySelector('.homePage__button'),\r\n    homePage: document.querySelector('.homepage-section'),\r\n    logotype: document.querySelector('.logotype'),\r\n    libraryPage: document.querySelector('.library-section'),\r\n    detailsSectionBlock: document.querySelector('.details'),\r\n    addQueueBtn: document.querySelector('.js-details__queue'),\r\n    addWatchedBtn: document.querySelector('.js-details__watched'),\r\n    iconQueue: document.querySelector('.js-icon-queue'),\r\n    iconWatched: document.querySelector('.js-icon-watched'),\r\n    footerContainer: document.querySelector('.footer'),\r\n    btnToWatchList: document.querySelector('#js-buttonWatched'),\r\n    btnToQueueList: document.querySelector('#js-buttonQueue'),\r\n    libraryBtnContainer: document.querySelector('.library-button-container'),\r\n    linkLibrary: document.querySelector('#js-link-library'),\r\n    linkHomePage: document.querySelector('#js-link-homepage'),\r\n    linkLogotype: document.querySelector('#js-logotype'),\r\n    libraryList: document.querySelector('.libraryPage-list'),\r\n    backToTopBtn: document.querySelector('.btn-up'),\r\n}\r\n\r\n","import refs from './refs';\r\nimport activeDetailsPage from './navigation';\r\n\r\nconst libraryList = document.querySelector('.libraryPage-list');\r\n\r\nexport function drawWatchedFilmList() {\r\n    libraryList.innerHTML = '';\r\n  const localStorageArray = JSON.parse(localStorage.getItem('filmsWatched'));\r\n  let fragment = document.createDocumentFragment();\r\n\r\n  \r\n\r\n  if (localStorageArray === null ||localStorageArray.length === 0) {\r\n    const listItemMessage = document.createElement('li');\r\n    listItemMessage.classList.add('libraryPage__filmItem'); \r\n    listItemMessage.textContent =\r\n      'You do not have WATCHED movies. Add them.';\r\n    libraryList.append(listItemMessage);\r\n  }\r\n  if (localStorageArray !== null && localStorageArray.length !== 0) {  \r\n    localStorageArray.forEach(film =>\r\n      fragment.append(\r\n        createLibraryCardFunc(\r\n          film.title,\r\n          film.backdrop_path,\r\n          film.id,\r\n          film.vote_average,\r\n        ),\r\n      ),\r\n    );\r\n    libraryList.append(fragment);\r\n  }\r\n  \r\n  refs.btnToQueueList.classList.remove('libraryPage__btn--active');\r\n  refs.btnToWatchList.classList.add('libraryPage__btn--active');\r\n}\r\n\r\nexport function drawQueueFilmList() {\r\n  libraryList.innerHTML = '';\r\n\r\n  const localStorageArray = JSON.parse(localStorage.getItem('filmsQueue'));\r\n  let fragment = document.createDocumentFragment();\r\n  if (localStorageArray === null || localStorageArray.length === 0) {\r\n    const listItemMessage = document.createElement('li');\r\n    listItemMessage.classList.add('libraryPage__filmItem'); \r\n    listItemMessage.textContent =\r\n      'You do not have to QUEUE movies to watch. Add them.';\r\n    libraryList.append(listItemMessage);\r\n  }\r\n  if (localStorageArray !== null && localStorageArray.length !== 0) {\r\n    localStorageArray.forEach(film =>\r\n      fragment.append(\r\n        createLibraryCardFunc(\r\n          film.title,\r\n          film.backdrop_path,\r\n          film.id,\r\n          film.vote_average,\r\n          film.release_date,\r\n        ),\r\n      ),\r\n    );\r\n    libraryList.append(fragment);\r\n  }\r\n  \r\n\r\n  refs.btnToWatchList.classList.remove('libraryPage__btn--active');\r\n  refs.btnToQueueList.classList.add('libraryPage__btn--active');\r\n \r\n}\r\n\r\nfunction createLibraryCardFunc(name, imgPath, movieId, voteAverage) {\r\n  const listItem = document.createElement('li');\r\n  listItem.classList.add('libraryPage__filmItem');\r\n\r\n  const img = document.createElement('img');\r\n  img.classList.add('libraryPage__img');\r\n   if (imgPath === null) {\r\n    img.setAttribute('src', '../images/noposter.jpg');\r\n  } else {\r\n  img.setAttribute('src', `https://image.tmdb.org/t/p/w500${imgPath}`); }\r\n\r\n  const movieName = document.createElement('p');\r\n  movieName.classList.add('libraryPage__movieName');\r\n  movieName.textContent = name;\r\n\r\n  const voteFilm = document.createElement('p');\r\n  voteFilm.classList.add('libraryPage__vote');\r\n  voteFilm.textContent = voteAverage;\r\n\r\n  listItem.append(img, movieName, voteFilm);\r\n\r\n  listItem.addEventListener('click', () => activeDetailsPage(movieId, true));\r\n\r\n  return listItem;\r\n}\r\n","import 'basiclightbox/dist/basicLightbox.min.css';\r\nimport { genres } from './initialHomePage';\r\nimport { selectFilm } from './navigation';\r\nimport refs from './refs';\r\n\r\nfunction monitorButtonStatusText() {\r\n  let localStorageFilmsQueue = localStorage.getItem('filmsQueue');\r\n  localStorageFilmsQueue === null\r\n    ? (document.querySelector('.js-details__queue').textContent =\r\n        'Add to queue')\r\n    : JSON.parse(localStorageFilmsQueue).find(film => film.id === selectFilm.id)\r\n    ? (document.querySelector('.js-details__queue').textContent =\r\n        'Delete from queue')\r\n    : (document.querySelector('.js-details__queue').textContent =\r\n        'Add to queue');\r\n\r\n  let localStorageFilmsWatched = localStorage.getItem('filmsWatched');\r\n  localStorageFilmsWatched === null\r\n    ? (document.querySelector('.js-details__watched').textContent =\r\n        'Add to watched')\r\n    : JSON.parse(localStorageFilmsWatched).find(\r\n        film => film.id === selectFilm.id,\r\n      )\r\n    ? (document.querySelector('.js-details__watched').textContent =\r\n        'Delete from watched')\r\n    : (document.querySelector('.js-details__watched').textContent =\r\n        'Add to watched');\r\n}\r\n\r\nexport function toggleToWatched() {\r\n  let filmsToWatch = [];\r\n  let localStorageData = localStorage.getItem('filmsWatched');\r\n  if (localStorageData !== null) {\r\n    filmsToWatch.push(...JSON.parse(localStorageData));\r\n  }\r\n  if (filmsToWatch.find(film => film.id === selectFilm.id)) {\r\n    filmsToWatch = filmsToWatch.filter(film => film.id !== selectFilm.id);\r\n  } else {\r\n    filmsToWatch.push(selectFilm);\r\n  }\r\n  localStorage.setItem('filmsWatched', JSON.stringify(filmsToWatch));\r\n  monitorButtonStatusText();\r\n}\r\n\r\nexport function toggleToQueue() {\r\n  let filmsInQueue = [];\r\n  let localStorageData = localStorage.getItem('filmsQueue');\r\n\r\n  if (localStorageData !== null) {\r\n    filmsInQueue.push(...JSON.parse(localStorageData));\r\n  }\r\n  if (filmsInQueue.find(film => film.id === selectFilm.id)) {\r\n    filmsInQueue = filmsInQueue.filter(film => film.id !== selectFilm.id);\r\n  } else {\r\n    filmsInQueue.push(selectFilm);\r\n  }\r\n\r\n  localStorage.setItem('filmsQueue', JSON.stringify(filmsInQueue));\r\n  monitorButtonStatusText();\r\n}\r\n\r\nexport function showDetails(selectFilm) {\r\n  refs.detailsSectionBlock.innerHTML = '';\r\n  let poster = 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQP8n_VcmefHmHxO3n9bXSMODS_8pGjmKKGbA&usqp=CAU';\r\n  if (selectFilm.poster_path !== null) {\r\n  poster = `https://image.tmdb.org/t/p/w500/${selectFilm.poster_path}`;}\r\n  refs.detailsSectionBlock.classList.remove('visually-hidden');\r\n  refs.libraryPage.classList.add('hidden');\r\n  refs.detailsSectionBlock.insertAdjacentHTML(\r\n    'beforeend',\r\n    `\r\n     <div class=\"container\">\r\n         <div class=\"details__img-wrapper\">\r\n             <img class=\"details__img\" src=\"${poster}\" alt=\"${\r\n      selectFilm.title\r\n    }\">\r\n         </div>\r\n         <div class=\"details__description\">\r\n             <h2 class=\"details__titile\">${selectFilm.title}\r\n             <span class=\"film-card__release\">(${\r\n               selectFilm.release_date.split('-')[0]\r\n             })</span></h2>\r\n             <ul class=\"details-list\">\r\n                 <li class=\"details-list__item\">\r\n                     <p class=\"details-list__name\">vote / votes</p>\r\n                     <p class=\"details-list__desc details__rating\">\r\n                         <span class=\"details-list__rating\">${\r\n                           selectFilm.vote_average\r\n                         }</span>\r\n                         <span class=\"details-list__rating--dash\"> / </span>\r\n                         <span class=\"details-list__rating\">${\r\n                           selectFilm.vote_count\r\n                         }</span>\r\n                     </p>\r\n                 </li>\r\n                 <li class=\"details-list__item\">\r\n                     <p class=\"details-list__name\">popularity</p>\r\n                     <p class=\"details-list__desc\">${selectFilm.popularity}</p>\r\n                 </li>\r\n                 <li class=\"details-list__item\">\r\n                     <p class=\"details-list__name\">original title</p>\r\n                     <p class=\"details-list__desc\">${selectFilm.title}</p>\r\n\r\n                 </li>\r\n                 <li class=\"details-list__item\">\r\n                     <p class=\"details-list__name\">genre</p>\r\n                     <p class=\"details-list__desc\">\r\n                         <span class=\"card-item__genre\">${genres\r\n                           .filter(genre =>\r\n                             selectFilm.genre_ids.find(\r\n                               item => genre.id === item,\r\n                             ),\r\n                           )\r\n                           .reduce(\r\n                             (acc, genre) => acc + `${genre.name} `,\r\n                             '',\r\n                           )}</span>\r\n                     </p>\r\n                 </li>\r\n             </ul>\r\n             <h3 class=\"details-list__about\">About</h3>\r\n             <p class=\"details__text\">${selectFilm.overview}</p>\r\n              <div class=\"button-container\">\r\n\r\n            \r\n\r\n\r\n             <button class=\"details__watched js-details__watched\">Add to watched</button>\r\n             <button class=\"details__queue js-details__queue\">Add to queue</button>\r\n             <button class=\"back-button\" id=\"back-button\">Back Home</button>\r\n              </div>\r\n         </div>\r\n     </div>`,\r\n  );\r\n\r\n  monitorButtonStatusText();\r\n}\r\n","\r\nimport { renderFilms } from './initialHomePage';\r\nimport refs from './refs';\r\nimport { drawWatchedFilmList, drawQueueFilmList } from './libraryPage';\r\nimport {\r\n  showDetails,\r\n  toggleToQueue,\r\n  toggleToWatched,\r\n} from './filmDetailsPage';\r\nlet selectFilm = [];\r\n\r\nrefs.libraryPage.classList.add('hidden');\r\nrefs.detailsSectionBlock.classList.add('visually-hidden');\r\n\r\nfunction activeLibraryPage() {\r\n  refs.homePage.classList.add('hidden');\r\n  refs.detailsSectionBlock.classList.add('visually-hidden');\r\n  refs.libraryPage.classList.remove('hidden');\r\n  refs.backToTopBtn.classList.remove('hidden');\r\n\r\n  refs.linkLibrary.classList.add('und1');\r\n  refs.linkHomePage.classList.remove('und');\r\n\r\n  drawQueueFilmList();\r\n  refs.btnToQueueList.classList.add('undreline');\r\n  refs.btnToQueueList.addEventListener('click', drawQueueFilmList);\r\n  refs.btnToWatchList.addEventListener('click', drawWatchedFilmList);\r\n}\r\n\r\nfunction activeHomePage() {\r\n  refs.homePage.classList.remove('hidden');\r\n  refs.movieList.classList.remove('hidden');\r\n  refs.backToTopBtn.classList.remove('hidden');\r\n  refs.detailsSectionBlock.classList.add('visually-hidden');\r\n  refs.libraryPage.classList.add('hidden');\r\n\r\n  refs.linkHomePage.classList.add('und');\r\n  refs.linkLibrary.classList.remove('und1');\r\n\r\n  refs.btnToQueueList.removeEventListener('click', drawQueueFilmList);\r\n  refs.btnToWatchList.removeEventListener('click', drawWatchedFilmList);\r\n}\r\n\r\nexport default function activeDetailsPage(movieId, itsLibraryFilm) {\r\n  refs.homePage.classList.add('hidden');\r\n  refs.movieList.classList.add('hidden');\r\n  refs.backToTopBtn.classList.add('hidden');\r\n\r\n  refs.detailsSectionBlock.classList.remove('visually-hidden');\r\n\r\n  if (itsLibraryFilm) {\r\n    let allLocalStorageFilms = [\r\n      ...JSON.parse(localStorage.getItem('filmsQueue')),\r\n      ...JSON.parse(localStorage.getItem('filmsWatched')),\r\n    ];\r\n    selectFilm = allLocalStorageFilms.find(film => film.id === movieId);\r\n  } else {\r\n    selectFilm = renderFilms.find(film => film.id === movieId);\r\n  }\r\n  showDetails(selectFilm);\r\n\r\n\r\n \r\n\r\n  const buttonBack = document.querySelector('#back-button');\r\n  buttonBack.addEventListener('click',()=>{\r\n    activeHomePage()\r\n\r\n  })\r\n\r\n \r\n\r\n\r\n  document\r\n    .querySelector('.js-details__queue')\r\n    .addEventListener('click', toggleToQueue);\r\n  document\r\n    .querySelector('.js-details__watched')\r\n    .addEventListener('click', toggleToWatched);\r\n\r\n  refs.btnToQueueList.removeEventListener('click', drawQueueFilmList);\r\n  refs.btnToWatchList.removeEventListener('click', drawWatchedFilmList);\r\n}\r\n\r\nrefs.linkHomePage.addEventListener('click', activeHomePage);\r\nrefs.linkLibrary.addEventListener('click', activeLibraryPage);\r\nrefs.linkLogotype.addEventListener('click', activeHomePage);\r\n\r\n\r\n\r\nexport { selectFilm };\r\n","let baseURL = 'https://api.themoviedb.org/3';\r\nlet apiKey = 'c5a07ae819d95fe3119594f7b17c2bc2';\r\nlet renderFilms = [];\r\nlet genres;\r\nlet pageNumber = 1;\r\nlet inputValue = '';\r\n\r\nimport activeDetailsPage from './navigation'\r\nimport refs from './refs'\r\n\r\nfunction createCardFunc(imgPath, filmTitle, movieId) {\r\n  const listItem = document.createElement('li');\r\n  listItem.classList.add('homePage__movieItem');\r\n  listItem.setAttribute('id','js-filmListItem');\r\n\r\n  const img = document.createElement('img');\r\n    img.classList.add('homePage__movieItem-poster');\r\n    \r\n img.setAttribute('src', `https://image.tmdb.org/t/p/w500/${imgPath}`)\r\n    \r\n\r\n  const title = document.createElement('h2');\r\n  title.classList.add('homePage__movieItem-name');\r\n  title.textContent = filmTitle;\r\n\r\n  listItem.append(img, title);\r\n\r\n  listItem.addEventListener('click', () => activeDetailsPage(movieId, false));\r\n  return listItem;\r\n};\r\n\r\nconst fetchPopularMoviesList = () => {\r\n  fetch(`${baseURL}/movie/popular?api_key=${apiKey}&language=en-US&page=${pageNumber}`)\r\n    .then(data => data.json())\r\n    .then(films => {\r\n\r\n      if (films.results.length > 1) {\r\n          clearContainer();\r\n      }\r\n        films.results.forEach(film => {\r\n        refs.movieList.insertAdjacentElement('beforeend', createCardFunc(film.backdrop_path, film.title, film.id))\r\n      })\r\n      renderFilms = films.results;\r\n      return renderFilms;\r\n    })\r\n    .catch(err => console.error(err));\r\n}\r\n\r\nfunction fetchGenres() {\r\n  fetch(`${baseURL}/genre/movie/list?api_key=${apiKey}&language=en-US`)\r\n    .then(data => data.json())\r\n    .then(films => {\r\n      genres = [...films.genres];\r\n    })\r\n    .catch(err => console.error(err));\r\n}\r\n\r\nfetchPopularMoviesList();\r\nfetchGenres();\r\n\r\nfunction fetchFilms() {\r\n  fetch(`${baseURL}/search/movie?api_key=${apiKey}&language=en-US&page=${pageNumber}&include_adult=false&query=${inputValue}`)\r\n    .then(data => data.json())\r\n    .then(films => {\r\n      pageNumber === 1 || pageNumber < 1 ? refs.prevBtn.classList.add('hidden') : refs.prevBtn.classList.remove('hidden');\r\n      pageNumber === films.total_pages ? refs.nextBtn.classList.add('hidden') : refs.nextBtn.classList.remove('hidden');\r\n      if (films.results.length === 0) {\r\n        refs.buttonContainer.classList.add('hidden');\r\n        refs.errorRef.textContent = \"Sorry, but there are no exact matches :(\";\r\n        clearContainer();\r\n\r\n      }\r\n      if (films.results.length > 1) {\r\n        refs.buttonContainer.classList.remove('hidden');\r\n        clearContainer();\r\n        refs.errorRef.textContent = \"\";\r\n      }\r\n      films.results.forEach(film => {\r\n        refs.movieList.insertAdjacentElement('beforeend', createCardFunc(film.backdrop_path, film.title, film.id))\r\n      })\r\n        renderFilms = films.results;\r\n        refs.title.classList.add('hidden')\r\n      return renderFilms;\r\n    })\r\n    .catch(error => console.error(error));\r\n}\r\n\r\nfunction handleSearchForm(event) {\r\n  event.preventDefault();\r\n  pageNumber = 1;\r\n  refs.pageValue.textContent = pageNumber;\r\n  inputValue = refs.input.value;\r\n  refs.searchForm.reset();\r\n  fetchFilms();\r\n}\r\n\r\nfunction plaginationNavigation(event) {\r\n  if (event.target === refs.prevBtn) {\r\n    pageNumber -= 1;\r\n    scrollToTop();\r\n    refs.pageValue.textContent = pageNumber;\r\n    if (inputValue === '') {\r\n      fetchPopularMoviesList();\r\n    } else {\r\n      fetchFilms();\r\n    }\r\n  } else {\r\n    pageNumber += 1;\r\n    scrollToTop();\r\n    refs.pageValue.textContent = pageNumber;\r\n    if (inputValue === '') {\r\n      fetchPopularMoviesList();\r\n    } else {\r\n      fetchFilms();\r\n    }\r\n  }\r\n   pageNumber === 1 || pageNumber < 1 ? refs.prevBtn.classList.add('hidden') : refs.prevBtn.classList.remove('hidden');\r\n}\r\n\r\nfunction clearContainer() {\r\n    refs.movieList.innerHTML = \"\";\r\n}\r\n\r\nfunction scrollToTop() {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nrefs.backToTopBtn.addEventListener('click', scrollToTop)\r\n\r\n\r\nrefs.prevBtn.addEventListener('click', plaginationNavigation);\r\nrefs.nextBtn.addEventListener('click', plaginationNavigation);\r\nrefs.searchForm.addEventListener('submit', handleSearchForm);\r\nrefs.linkLogotype.addEventListener('click', () => {\r\n  pageNumber = 1;\r\n  refs.pageValue.textContent = pageNumber\r\n  fetchPopularMoviesList();\r\n  refs.prevBtn.classList.add('hidden');\r\n  refs.nextBtn.classList.remove('hidden');\r\n  refs.title.classList.remove('hidden');\r\n  refs.errorRef.classList.add('hidden');\r\n  refs.buttonContainer.classList.remove('hidden');\r\n })\r\n\r\nexport { renderFilms, genres, fetchPopularMoviesList };"],"sourceRoot":""}